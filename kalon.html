<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalon - Browse</title>
    <link rel="icon" type="image/x-icon" href="images/icon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <style>

        body{
        background-color: rgba(236,232,221,1);;
        }

        h2{
            color: #656C55;
            font-size: 300px;
            font-weight: lighter;
        }
        .center {
        margin: auto;
        width: 50%;
        padding: 10px;
        }

                
        </style>
    
    <script
    src="https://code.jquery.com/jquery-3.6.1.min.js"
    integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
    crossorigin="anonymous"></script>

    
    <script>

        

        
   let settings = {
                "async": true,
                "crossDomain": true,
                "url": "https://sephora.p.rapidapi.com/products/search?q=mask&pageSize=60&currentPage=1",
                "method": "GET",
                "headers": {
                    "X-RapidAPI-Key": "cb824c913amshe3b87a430f80bf7p155b80jsn3a6016fb301c",
                    "X-RapidAPI-Host": "sephora.p.rapidapi.com"
                }
            };

            function searchProducts(){
                console.log(settings);
               mysearch = $("#search").val();
               settings.url = "https://sephora.p.rapidapi.com/products/search?q="+ mysearch +"&pageSize=60&currentPage=1";
               $.ajax(settings).done(function (response) {
                console.log(response.products);
                htmlRow = "";
                response.products.forEach(element => {
                    console.log(element.brandName);
                    console.log(element.rating);
                    htmlRow = htmlRow + '<div class="col-sm-3">' +
                '<div class="card">' +
                   '<img src="' + element.heroImage + '" class="card-img-top" alt="...">' +
                   '<div class="card-body">' +
                    '  <h5 style="color:#656C55; font-weight:bold;" class="card-title">' + element.brandName+ '</h5>' +
                    '  <p style="color:#656C55;"class="card-text">'+ element.productName+'</p>' +
                    '  <p style="color:#656C55;font-weight: bold; " class="card-text"> Rating: ' +  element.rating+'</p>' +
                    '  <a href="#" class="btn btn-success">Add to cart</a>' +
                    '</div>' +
                    '</div>' +
                    ' </div>';

                });
                
                $(".product-row").html(htmlRow);

            });

            }

           
    </script>
    
</head>
<body>
   
    <header style=" text-align: center; padding-top: 40px;"> <img src="images/logo.png" class="container mt-5" style="width:625px; height:140px;"> 
    </header>
        <img src="images/menu.png" class="container mt-5" style="width:185px; height:372px; position: absolute;left: 0px;top: 230px;
        Z-index: -1;"> 
        
    <h2 class="container mt-5" style="text-align:center;  z-index: -1;">KALON</h2>

    <div class="mybrands" style="text-align:center;">
    <a href="kalonhome.html" class="btn" style="background-color:#656C55; color: white" > < Back</a>
    <input type="text" id="search">
    <button id="myBtn" class="btn" style="background-color:#656C55; color: white" onclick="searchProducts()">Search</button >
    <p class="container mt-5" style="color:#656C55;"> Sort by: <a style="font-weight:bold;color:#656C55;">Relevance</a> </p> 
    <hr style="height:10px; color:#656C55;">


<script> 
var input = document.getElementById("search");
    input.addEventListener("keypress", function(event) {
    if (event.key === "Enter") {
        event.preventDefault();
        document.getElementById("myBtn").click();
    }
    });</script>

</div>


    <div class="container mt-5">
       
        <div class="row product-row">
                    </div>
                  </div>
            </div>
            
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

</body>
</html>
